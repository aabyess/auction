<template>
  <div>
    <!-- ğŸ”¥ ì¸ê¸° ìƒí’ˆ (1ì—´) -->
    <div class="popular-products">
      <h2>ğŸ”¥ ì¸ê¸° ìƒí’ˆ</h2>
      <div class="popular-list">
        <ProductCard v-for="(product, index) in popularProducts" 
          :key="index" 
          :product="product"
          @click="goToDetail(product.id)"
        />
      </div>
    </div>

    <!-- ğŸ“¦ ì¼ë°˜ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ -->
    <div class="product-list">
      <ProductCard v-for="(product, index) in regularProducts" 
        :key="index" 
        :product="product"
        @click="goToDetail(product.id)"
      />
    </div>
  </div>
</template>

<script>
import ProductCard from "@/components/ProductCard.vue";
import { useRouter } from 'vue-router';


export default {
  components: {
    ProductCard
  },
  setup() {
    const router = useRouter();
    const goToDetail = (id) => {
      router.push(`/product/${id}`);
    };

    return { goToDetail };
  },
  data() {
    return {
      products: [
        { id: 1, name: "ì•„ì´í° 12", price: "500,000", image: new URL('@/assets/images/iphone.png', import.meta.url).href, isPopular: true },
        { id: 2, name: "ê°¤ëŸ­ì‹œ S22", price: "600,000", image: new URL('@/assets/images/mac.png', import.meta.url).href, isPopular: false },
        { id: 3, name: "ë§¥ë¶ í”„ë¡œ", price: "1,500,000", image: new URL('@/assets/images/pad.png', import.meta.url).href, isPopular: true },
        { id: 4, name: "ì•„ì´íŒ¨ë“œ ì—ì–´", price: "700,000", image: new URL('@/assets/images/vr.png', import.meta.url).href, isPopular: true },
        { id: 5, name: "ì• í”Œì›Œì¹˜", price: "400,000", image: new URL('@/assets/images/watch.png', import.meta.url).href, isPopular: false },
        { id: 6, name: "ê°¤ëŸ­ì‹œ ë²„ì¦ˆ", price: "150,000", image: new URL('@/assets/images/airpod.png', import.meta.url).href, isPopular: false },
        { id: 7, name: "ì•„ì´í° 12", price: "500,000", image: new URL('@/assets/images/iphone.png', import.meta.url).href, isPopular: true },
        { id: 8, name: "ê°¤ëŸ­ì‹œ S22", price: "600,000", image: new URL('@/assets/images/mac.png', import.meta.url).href, isPopular: false },
        { id: 9, name: "ë§¥ë¶ í”„ë¡œ", price: "1,500,000", image: new URL('@/assets/images/pad.png', import.meta.url).href, isPopular: true },
        { id: 10, name: "ì•„ì´íŒ¨ë“œ ì—ì–´", price: "700,000", image: new URL('@/assets/images/vr.png', import.meta.url).href, isPopular: true },
        { id: 11, name: "ì• í”Œì›Œì¹˜", price: "400,000", image: new URL('@/assets/images/watch.png', import.meta.url).href, isPopular: false },
        { id: 12, name: "ê°¤ëŸ­ì‹œ ë²„ì¦ˆ", price: "150,000", image: new URL('@/assets/images/airpod.png', import.meta.url).href, isPopular: false }
      ]
    };
  },
  computed: {
    popularProducts() {
      return this.products.filter(product => product.isPopular);
    },
    regularProducts() {
      return this.products.filter(product => !product.isPopular);
    }
  }
};
</script>

<style scoped>
/* ğŸ”¥ ì¸ê¸° ìƒí’ˆ (1ì—´) */
.popular-products {
  margin-bottom: 30px;
}

.popular-list {
  display: flex;
  overflow-x: auto;
  gap: 15px;
  padding: 10px;
}

.popular-list::-webkit-scrollbar {
  height: 8px;
}

.popular-list::-webkit-scrollbar-thumb {
  background-color: #ff9800;
  border-radius: 4px;
}

.popular-list::-webkit-scrollbar-track {
  background: #f1f1f1;
}

/* ğŸ“¦ ì¼ë°˜ ìƒí’ˆ (2ì—´ ì´ìƒ) */
.product-list {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
  margin: 40px 0;
}
</style>
